<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vegas Dice Casino | –°—Ç–∞–≤–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a2a, #1a0033, #330000);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .auth-btn {
            padding: 0.6rem 1.2rem;
            font-size: 0.9rem;
            background: linear-gradient(45deg, #00ffff, #bf00ff);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Arial', sans-serif;
            font-weight: 600;
        }
        
        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.5);
        }
        
        .user-panel {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .user-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }
        
        .user-greeting {
            font-size: 1rem;
            color: #39ff14;
            text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
        }
        
        .user-balance {
            font-size: 1.2rem;
            font-weight: 700;
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        .balance-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .balance-btn {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            background: linear-gradient(45deg, #ff00ff, #bf00ff);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .balance-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 255, 0.5);
        }
        
        .logout-btn {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            background: linear-gradient(45deg, #ff3333, #ff6666);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 51, 51, 0.5);
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: rgba(20, 20, 40, 0.95);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
            border: 1px solid #ff00ff;
            position: relative;
        }
        
        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            color: #ff00ff;
            transform: scale(1.2);
        }
        
        .modal h2 {
            text-align: center;
            margin-bottom: 1.5rem;
            color: #00ffff;
            font-family: 'Arial', sans-serif;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #ccc;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-family: 'Arial', sans-serif;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        
        .submit-btn {
            width: 100%;
            padding: 0.9rem;
            background: linear-gradient(45deg, #ff00ff, #bf00ff);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Arial', sans-serif;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 0, 255, 0.5);
        }
        
        .form-footer {
            text-align: center;
            margin-top: 1rem;
            color: #ccc;
        }
        
        .form-footer a {
            color: #00ffff;
            text-decoration: none;
            cursor: pointer;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        .error-message {
            color: #ff4d4d;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            text-align: center;
            display: none;
        }
        
        .success-message {
            color: #39ff14;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            text-align: center;
            display: none;
        }

        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 0, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 0, 100, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(0, 150, 255, 0.1) 0%, transparent 50%);
            z-index: -1;
        }

        /* –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a2a, #1a0033, #330000);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.8s ease;
        }
        
        .casino-loader {
            width: 200px;
            height: 200px;
            position: relative;
            margin-bottom: 30px;
        }
        
        .loader-chip {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, gold, #ff9900);
            border-radius: 50%;
            box-shadow: 0 0 30px gold, 0 0 60px rgba(255, 215, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            animation: chip-spin 3s linear infinite;
        }
        
        .loader-chip::before {
            content: '';
            position: absolute;
            width: 80%;
            height: 80%;
            border: 8px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }
        
        .loader-chip::after {
            content: 'üé≤';
            font-size: 60px;
            position: absolute;
            text-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        
        .loader-dice {
            position: absolute;
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            animation: dice-orbit 4s linear infinite;
        }
        
        .loader-dice:nth-child(2) {
            animation-delay: -1.3s;
        }
        
        .loader-dice:nth-child(3) {
            animation-delay: -2.6s;
        }
        
        .loading-text {
            font-size: 3rem;
            color: gold;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
            margin-bottom: 10px;
            font-weight: bold;
            letter-spacing: 4px;
            position: relative;
            animation: text-flicker 3s infinite alternate;
        }
        
        .loading-subtext {
            color: #ccc;
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-align: center;
            max-width: 500px;
            line-height: 1.5;
        }
        
        .progress-container {
            width: 500px;
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #ffcc00, #ff9900, #ff6600);
            border-radius: 10px;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
            animation: progress-shine 1.5s infinite;
        }
        
        .loading-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
            font-size: 1rem;
        }
        
        .loading-details {
            margin-top: 20px;
            color: #aaa;
            font-size: 0.9rem;
            text-align: center;
            max-width: 500px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .floating-item {
            position: absolute;
            opacity: 0.1;
            animation: float 15s infinite linear;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
        }

        .floating-item:nth-child(1) {
            top: 10%;
            left: 10%;
            font-size: 40px;
            animation-delay: 0s;
        }

        .floating-item:nth-child(2) {
            top: 20%;
            right: 15%;
            font-size: 60px;
            animation-delay: -2s;
        }

        .floating-item:nth-child(3) {
            bottom: 30%;
            left: 15%;
            font-size: 50px;
            animation-delay: -4s;
        }

        .floating-item:nth-child(4) {
            bottom: 20%;
            right: 20%;
            font-size: 45px;
            animation-delay: -6s;
        }

        .floating-item:nth-child(5) {
            top: 50%;
            left: 5%;
            font-size: 55px;
            animation-delay: -8s;
        }

        .floating-item:nth-child(6) {
            top: 15%;
            left: 50%;
            font-size: 35px;
            animation-delay: -10s;
        }
        
        .floating-item:nth-child(7) {
            top: 70%;
            right: 10%;
            font-size: 40px;
            animation-delay: -5s;
        }
        
        .floating-item:nth-child(8) {
            top: 40%;
            right: 5%;
            font-size: 50px;
            animation-delay: -7s;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
            }
            100% {
                transform: translateY(0) rotate(360deg);
            }
        }
        
        @keyframes chip-spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); box-shadow: 0 0 40px gold, 0 0 80px rgba(255, 215, 0, 0.7); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        @keyframes dice-orbit {
            0% { transform: rotate(0deg) translateX(100px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
        }
        
        @keyframes text-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                text-shadow: 0 0 10px gold, 0 0 20px #ff9900, 0 0 30px #ff6600;
            }
            20%, 24%, 55% {
                text-shadow: 0 0 5px gold, 0 0 10px #ff9900, 0 0 15px #ff6600;
            }
        }
        
        @keyframes progress-shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(10, 10, 40, 0.9);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 
                0 0 50px rgba(255, 215, 0, 0.4),
                inset 0 0 50px rgba(255, 215, 0, 0.1);
            text-align: center;
            margin-top: 20px;
            border: 3px solid gold;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, #ffcc00, #ff9900, #ff6600, #ff3300);
            z-index: -1;
            border-radius: 30px;
            opacity: 0.2;
            filter: blur(15px);
        }
        
        .container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 0, 100, 0.1) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }

        h1 {
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 
                0 0 10px #ffcc00,
                0 0 20px #ff9900,
                0 0 30px #ff6600,
                0 0 40px #ff3300;
            letter-spacing: 4px;
            background: linear-gradient(to right, #ffcc00, #ff9900, #ffcc00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            font-weight: bold;
            animation: neon-flicker 3s infinite alternate;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 400px;
            height: 3px;
            background: linear-gradient(to right, transparent, gold, #ff9900, gold, transparent);
            box-shadow: 0 0 15px gold;
        }
        
        .casino-lights {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .light-beam {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, gold, transparent);
            box-shadow: 0 0 10px gold;
            animation: light-sweep 8s infinite linear;
        }
        
        .light-beam:nth-child(2) {
            top: 30%;
            animation-delay: -2s;
        }
        
        .light-beam:nth-child(3) {
            top: 60%;
            animation-delay: -4s;
        }
        
        .light-beam:nth-child(4) {
            top: 90%;
            animation-delay: -6s;
        }

        .balance-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 215, 0, 0.15);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid gold;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.4);
        }

        .balance-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .balance-section:hover::before {
            left: 100%;
        }

        .balance {
            font-size: 2.5rem;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            display: flex;
            align-items: center;
        }

        .balance::before {
            content: 'üí∞';
            margin-right: 15px;
            font-size: 2.2rem;
        }

        .bet-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .bet-amount {
            font-size: 2rem;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 30px;
            border-radius: 15px;
            border: 2px solid gold;
            min-width: 150px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        .bet-amount::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.1) 50%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .bet-amount:hover::after {
            opacity: 1;
        }

        .bet-btn {
            background: linear-gradient(135deg, #ff9900, #ff6600);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 153, 0, 0.5);
        }

        .bet-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .bet-btn:hover::before {
            opacity: 1;
        }

        .bet-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px gold;
        }

        .bet-btn:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            color: #777;
        }

        .bet-btn:disabled::before {
            display: none;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            font-size: 1.5rem;
            gap: 20px;
        }

        .player, .casino {
            padding: 25px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            width: 45%;
            position: relative;
            overflow: hidden;
            transition: all 0.5s;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        .player {
            border: 2px solid #3498db;
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.5);
        }

        .casino {
            border: 2px solid #e74c3c;
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }

        .player::before, .casino::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, transparent, gold, transparent);
        }

        .player h2, .casino h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        .player.win, .casino.lose {
            border: 2px solid #2ecc71;
            box-shadow: 0 0 25px rgba(46, 204, 113, 0.7);
            animation: pulse-win 0.5s ease-in-out;
        }

        .player.lose, .casino.win {
            border: 2px solid #e74c3c;
            box-shadow: 0 0 25px rgba(231, 76, 60, 0.7);
        }

        .player.draw, .casino.draw {
            border: 2px solid #f39c12;
            box-shadow: 0 0 25px rgba(243, 156, 18, 0.7);
        }

        @keyframes pulse-win {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes light-sweep {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .dice-container {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
            position: relative;
        }

        .dice {
            width: 160px;
            height: 160px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
            margin: 0 20px;
            perspective: 1000px;
        }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 15px;
            border: 3px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 
                inset 0 0 15px rgba(0, 0, 0, 0.2),
                0 0 15px rgba(0, 0, 0, 0.3);
        }

        .dot {
            width: 25px;
            height: 25px;
            background: #333;
            border-radius: 50%;
            position: absolute;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä–∞–Ω–∏ */
        .front { transform: translateZ(80px); }
        .back { transform: rotateY(180deg) translateZ(80px); }
        .right { transform: rotateY(90deg) translateZ(80px); }
        .left { transform: rotateY(-90deg) translateZ(80px); }
        .top { transform: rotateX(90deg) translateZ(80px); }
        .bottom { transform: rotateX(-90deg) translateZ(80px); }

        /* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–æ—á–µ–∫ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ—Å—Ç–µ–π */
        .value-1 .dot:nth-child(1) { top: 50%; left: 50%; transform: translate(-50%, -50%); }
        
        .value-2 .dot:nth-child(1) { top: 20%; left: 20%; }
        .value-2 .dot:nth-child(2) { bottom: 20%; right: 20%; }
        
        .value-3 .dot:nth-child(1) { top: 20%; left: 20%; }
        .value-3 .dot:nth-child(2) { top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .value-3 .dot:nth-child(3) { bottom: 20%; right: 20%; }
        
        .value-4 .dot:nth-child(1) { top: 20%; left: 20%; }
        .value-4 .dot:nth-child(2) { top: 20%; right: 20%; }
        .value-4 .dot:nth-child(3) { bottom: 20%; left: 20%; }
        .value-4 .dot:nth-child(4) { bottom: 20%; right: 20%; }
        
        .value-5 .dot:nth-child(1) { top: 20%; left: 20%; }
        .value-5 .dot:nth-child(2) { top: 20%; right: 20%; }
        .value-5 .dot:nth-child(3) { top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .value-5 .dot:nth-child(4) { bottom: 20%; left: 20%; }
        .value-5 .dot:nth-child(5) { bottom: 20%; right: 20%; }
        
        .value-6 .dot:nth-child(1) { top: 20%; left: 20%; }
        .value-6 .dot:nth-child(2) { top: 20%; right: 20%; }
        .value-6 .dot:nth-child(3) { top: 50%; left: 20%; transform: translateY(-50%); }
        .value-6 .dot:nth-child(4) { top: 50%; right: 20%; transform: translateY(-50%); }
        .value-6 .dot:nth-child(5) { bottom: 20%; left: 20%; }
        .value-6 .dot:nth-child(6) { bottom: 20%; right: 20%; }

        .controls {
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        button {
            background: linear-gradient(135deg, #ffcc00, #ff9900, #ff6600);
            border: none;
            border-radius: 50px;
            color: #222;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 20px 60px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 
                0 5px 20px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(255, 204, 0, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        button:hover::before {
            left: 100%;
        }

        button:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 10px 25px rgba(255, 204, 0, 0.7),
                0 0 20px rgba(255, 204, 0, 0.7);
        }

        button:active {
            transform: translateY(2px);
        }

        button:disabled {
            background: #444;
            color: #777;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        button:disabled::before {
            display: none;
        }

        .result {
            font-size: 2.5rem;
            margin: 20px 0;
            min-height: 80px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: all 0.5s;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            font-weight: bold;
        }

        .result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s;
        }

        .result.win::before, .result.lose::before, .result.draw::before {
            opacity: 1;
        }

        .win {
            color: #2ecc71;
            animation: pulse 1s infinite, glow-win 2s infinite;
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #2ecc71;
            box-shadow: 0 0 25px rgba(46, 204, 113, 0.5);
        }

        .lose {
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid #e74c3c;
            box-shadow: 0 0 25px rgba(231, 76, 60, 0.5);
        }

        .draw {
            color: #f39c12;
            background: rgba(243, 156, 18, 0.2);
            border: 2px solid #f39c12;
            box-shadow: 0 0 25px rgba(243, 156, 18, 0.5);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes glow-win {
            0% { box-shadow: 0 0 15px #2ecc71; }
            50% { box-shadow: 0 0 30px #2ecc71; }
            100% { box-shadow: 0 0 15px #2ecc71; }
        }

        @keyframes neon-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                text-shadow: 
                    0 0 10px #ffcc00,
                    0 0 20px #ff9900,
                    0 0 30px #ff6600;
            }
            20%, 24%, 55% {
                text-shadow: 
                    0 0 5px #ffcc00,
                    0 0 10px #ff9900,
                    0 0 15px #ff6600;
            }
        }

        @keyframes roll {
            0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
            25% { transform: rotateX(180deg) rotateY(180deg) rotateZ(90deg); }
            50% { transform: rotateX(360deg) rotateY(360deg) rotateZ(180deg); }
            75% { transform: rotateX(540deg) rotateY(540deg) rotateZ(270deg); }
            100% { transform: rotateX(720deg) rotateY(720deg) rotateZ(360deg); }
        }

        .rolling {
            animation: roll 1.5s ease-out;
        }

        .history {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            max-height: 200px;
            overflow-y: auto;
            border: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        }

        .history h3 {
            margin-bottom: 15px;
            color: gold;
            position: relative;
            display: inline-block;
            font-size: 1.5rem;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.7);
        }

        .history h3::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, gold, transparent);
        }

        .history-item {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            transition: background 0.3s;
            border-radius: 5px;
        }

        .history-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .coins-fall {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .coin {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, gold, #ff9900);
            border-radius: 50%;
            animation: coin-fall linear forwards;
            box-shadow: 0 0 15px gold;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #333;
        }

        @keyframes coin-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .win-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent 10%, rgba(46, 204, 113, 0.3) 20%);
            animation: win-pulse 0.5s ease-out;
            pointer-events: none;
            z-index: 50;
            display: none;
        }

        @keyframes win-pulse {
            0% { transform: scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        .jackpot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6rem;
            font-weight: bold;
            color: gold;
            text-shadow: 
                0 0 10px #ff9900,
                0 0 20px #ff6600,
                0 0 30px #ff3300;
            animation: jackpot-animation 2s ease-out;
            z-index: 60;
            display: none;
            text-align: center;
        }

        @keyframes jackpot-animation {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .pulse-glow {
            animation: pulse-glow-animation 2s infinite;
        }

        @keyframes pulse-glow-animation {
            0% { box-shadow: 0 0 15px gold; }
            50% { box-shadow: 0 0 30px gold; }
            100% { box-shadow: 0 0 15px gold; }
        }

        /* –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞–≤–æ–∫ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ */
        .other-bets {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .other-bets h3 {
            margin-bottom: 15px;
            color: gold;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            font-size: 1.5rem;
        }
        
        .bets-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1rem;
        }
        
        .bets-table th {
            background: rgba(255, 215, 0, 0.2);
            padding: 12px;
            text-align: left;
            color: gold;
            border-bottom: 2px solid rgba(255, 215, 0, 0.5);
        }
        
        .bets-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .bets-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .bet-win {
            color: #2ecc71;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(46, 204, 113, 0.5);
        }
        
        .bet-lose {
            color: #e74c3c;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(231, 76, 60, 0.5);
        }

        /* –ù–µ–æ–Ω–æ–≤—ã–µ –æ–≥–Ω–∏ */
        .neon-lights {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 10px;
            background: linear-gradient(90deg, 
                #ff0000, #ff9900, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
            background-size: 800% 800%;
            animation: neon-flow 10s linear infinite;
            z-index: 10;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .neon-lights.bottom {
            top: auto;
            bottom: 0;
        }

        @keyframes neon-flow {
            0% { background-position: 0% 50%; }
            100% { background-position: 800% 50%; }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .balance-section {
                flex-direction: column;
                gap: 15px;
            }
            
            .dice {
                width: 100px;
                height: 100px;
            }
            
            .score-board {
                flex-direction: column;
                align-items: center;
            }
            
            .player, .casino {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .bet-amount {
                font-size: 1.5rem;
                padding: 10px 20px;
                min-width: 100px;
            }
            
            button {
                padding: 15px 30px;
                font-size: 1.1rem;
            }
            
            .casino-loader {
                width: 150px;
                height: 150px;
            }
            
            .loader-dice {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            
            .loading-text {
                font-size: 2rem;
            }
            
            .progress-container {
                width: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="loading-screen" id="loadingScreen">
        <div class="casino-loader">
            <div class="loader-chip"></div>
            <div class="loader-dice">üé≤</div>
            <div class="loader-dice">üé≤</div>
            <div class="loader-dice">üé≤</div>
        </div>
        <div class="loading-text">VEGAS DICE CASINO</div>
        <div class="loading-subtext">–ò–¥–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Å—Ç–æ–ª–∞... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</div>
        <div class="progress-container">
            <div class="progress-bar" id="loadingProgress"></div>
            <div class="loading-percentage" id="loadingPercentage">0%</div>
        </div>
        <div class="loading-details" id="loadingDetails">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞...</div>
    </div>

    <!-- –ù–µ–æ–Ω–æ–≤—ã–µ –æ–≥–Ω–∏ -->
    <div class="neon-lights"></div>
    <div class="neon-lights bottom"></div>

    <div class="background-animation">
        <div class="floating-item">üé∞</div>
        <div class="floating-item">üí∞</div>
        <div class="floating-item">‚ô†Ô∏è</div>
        <div class="floating-item">‚ô•Ô∏è</div>
        <div class="floating-item">‚ô¶Ô∏è</div>
        <div class="floating-item">‚ô£Ô∏è</div>
        <div class="floating-item">üé≤</div>
        <div class="floating-item">üÉè</div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="auth-container">
        <div id="auth-buttons">
            <button class="auth-btn" id="login-btn">–í–æ–π—Ç–∏</button>
            <button class="auth-btn" id="register-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        </div>
        <div id="user-panel" class="user-panel" style="display: none;">
            <div class="user-info">
                <span class="user-greeting" id="user-greeting">–ü—Ä–∏–≤–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!</span>
                <span class="user-balance">–ë–∞–ª–∞–Ω—Å: <span id="balance-amount">0</span> ‚ÇΩ</span>
            </div>
            <div class="balance-actions">
                <button class="balance-btn" id="deposit-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                <button class="balance-btn" id="withdraw-btn">–í—ã–≤–µ—Å—Ç–∏</button>
                <button class="logout-btn" id="logout-btn">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="close-login">&times;</button>
            <h2>–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="login-username" required>
                </div>
                <div class="form-group">
                    <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="submit-btn">–í–æ–π—Ç–∏</button>
                <div class="error-message" id="login-error"></div>
                <div class="form-footer">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a id="show-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="close-register">&times;</button>
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="register-username" required>
                </div>
                <div class="form-group">
                    <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="form-group">
                    <label for="confirm-password">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="confirm-password" required>
                </div>
                <button type="submit" class="submit-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <div class="error-message" id="register-error"></div>
                <div class="success-message" id="register-success"></div>
                <div class="form-footer">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a id="show-login">–í–æ–π—Ç–∏</a>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="close-deposit">&times;</button>
            <h2>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h2>
            <form id="deposit-form">
                <div class="form-group">
                    <label for="deposit-amount">–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (‚ÇΩ)</label>
                    <input type="number" id="deposit-amount" min="1" required>
                </div>
                <button type="submit" class="submit-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                <div class="success-message" id="deposit-success"></div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="close-withdraw">&times;</button>
            <h2>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
            <form id="withdraw-form">
                <div class="form-group">
                    <label for="withdraw-amount">–°—É–º–º–∞ –≤—ã–≤–æ–¥–∞ (‚ÇΩ)</label>
                    <input type="number" id="withdraw-amount" min="1" required>
                </div>
                <button type="submit" class="submit-btn">–í—ã–≤–µ—Å—Ç–∏</button>
                <div class="error-message" id="withdraw-error"></div>
                <div class="success-message" id="withdraw-success"></div>
            </form>
        </div>
    </div>

    <div class="container">
        <div class="casino-lights">
            <div class="light-beam"></div>
            <div class="light-beam"></div>
            <div class="light-beam"></div>
            <div class="light-beam"></div>
        </div>
        
        <h1>üé≤ VEGAS DICE CASINO üé≤</h1>
        
        <div class="balance-section pulse-glow">
            <div class="balance-info">
                <div>–í–∞—à –±–∞–ª–∞–Ω—Å:</div>
                <div class="balance" id="balance">1000</div>
            </div>
            
            <div class="bet-controls">
                <button class="bet-btn" id="decrease-bet">-</button>
                <div class="bet-amount" id="bet-amount">50</div>
                <button class="bet-btn" id="increase-bet">+</button>
            </div>
        </div>
        
        <div class="score-board">
            <div class="player" id="player-section">
                <h2>–ò–≥—Ä–æ–∫</h2>
                <div class="score" id="player-score">0</div>
            </div>
            <div class="casino" id="casino-section">
                <h2>–ö–∞–∑–∏–Ω–æ</h2>
                <div class="score" id="casino-score">0</div>
            </div>
        </div>
        
        <div class="dice-container">
            <div class="dice" id="player-dice">
                <!-- –ì—Ä–∞–Ω–∏ –∫–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            <div class="dice" id="casino-dice">
                <!-- –ì—Ä–∞–Ω–∏ –∫–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <div class="result" id="result">–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –∏ –±—Ä–æ—Å—å—Ç–µ –∫–æ—Å—Ç–∏!</div>
        
        <div class="controls">
            <button id="roll-button">–ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏</button>
            <button id="max-bet">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞</button>
        </div>
        
        <!-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞–≤–æ–∫ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ -->
        <div class="other-bets">
            <h3>–°—Ç–∞–≤–∫–∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤</h3>
            <table class="bets-table">
                <thead>
                    <tr>
                        <th>–ò–≥—Ä–æ–∫</th>
                        <th>–°—Ç–∞–≤–∫–∞</th>
                        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                        <th>–°—É–º–º–∞</th>
                    </tr>
                </thead>
                <tbody id="otherBetsTable">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </tbody>
            </table>
        </div>
        
        <div class="history">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</h3>
            <div id="history-list"></div>
        </div>
    </div>

    <div class="coins-fall" id="coins-fall"></div>
    <div class="win-animation" id="win-animation"></div>
    <div class="jackpot" id="jackpot">–î–ñ–ï–ö–ü–û–¢!</div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            function initAuthSystem() {
                // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
                const loginBtn = document.getElementById('login-btn');
                const registerBtn = document.getElementById('register-btn');
                const logoutBtn = document.getElementById('logout-btn');
                const depositBtn = document.getElementById('deposit-btn');
                const withdrawBtn = document.getElementById('withdraw-btn');
                
                const loginModal = document.getElementById('login-modal');
                const registerModal = document.getElementById('register-modal');
                const depositModal = document.getElementById('deposit-modal');
                const withdrawModal = document.getElementById('withdraw-modal');
                
                const closeLogin = document.getElementById('close-login');
                const closeRegister = document.getElementById('close-register');
                const closeDeposit = document.getElementById('close-deposit');
                const closeWithdraw = document.getElementById('close-withdraw');
                
                const showRegister = document.getElementById('show-register');
                const showLogin = document.getElementById('show-login');
                
                const loginForm = document.getElementById('login-form');
                const registerForm = document.getElementById('register-form');
                const depositForm = document.getElementById('deposit-form');
                const withdrawForm = document.getElementById('withdraw-form');
                
                const authButtons = document.getElementById('auth-buttons');
                const userPanel = document.getElementById('user-panel');
                const userGreeting = document.getElementById('user-greeting');
                const balanceAmount = document.getElementById('balance-amount');
                
                const loginError = document.getElementById('login-error');
                const registerError = document.getElementById('register-error');
                const registerSuccess = document.getElementById('register-success');
                const depositSuccess = document.getElementById('deposit-success');
                const withdrawError = document.getElementById('withdraw-error');
                const withdrawSuccess = document.getElementById('withdraw-success');

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                checkAuthStatus();

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
                loginBtn.addEventListener('click', () => openModal(loginModal));
                registerBtn.addEventListener('click', () => openModal(registerModal));
                logoutBtn.addEventListener('click', logout);
                depositBtn.addEventListener('click', () => openModal(depositModal));
                withdrawBtn.addEventListener('click', () => openModal(withdrawModal));
                
                closeLogin.addEventListener('click', () => closeModal(loginModal));
                closeRegister.addEventListener('click', () => closeModal(registerModal));
                closeDeposit.addEventListener('click', () => closeModal(depositModal));
                closeWithdraw.addEventListener('click', () => closeModal(withdrawModal));
                
                showRegister.addEventListener('click', () => {
                    closeModal(loginModal);
                    openModal(registerModal);
                });
                
                showLogin.addEventListener('click', () => {
                    closeModal(registerModal);
                    openModal(loginModal);
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ—Ä–º
                loginForm.addEventListener('submit', handleLogin);
                registerForm.addEventListener('submit', handleRegister);
                depositForm.addEventListener('submit', handleDeposit);
                withdrawForm.addEventListener('submit', handleWithdraw);
                
                // –§—É–Ω–∫—Ü–∏–∏
                function openModal(modal) {
                    modal.style.display = 'flex';
                    clearMessages();
                }
                
                function closeModal(modal) {
                    modal.style.display = 'none';
                    clearMessages();
                    // –û—á–∏—â–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º
                    if (modal === loginModal) {
                        loginForm.reset();
                    } else if (modal === registerModal) {
                        registerForm.reset();
                    } else if (modal === depositModal) {
                        depositForm.reset();
                    } else if (modal === withdrawModal) {
                        withdrawForm.reset();
                    }
                }
                
                function clearMessages() {
                    loginError.style.display = 'none';
                    registerError.style.display = 'none';
                    registerSuccess.style.display = 'none';
                    depositSuccess.style.display = 'none';
                    withdrawError.style.display = 'none';
                    withdrawSuccess.style.display = 'none';
                }
                
                function checkAuthStatus() {
                    const currentUser = localStorage.getItem('currentUser');
                    if (currentUser) {
                        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                        const user = JSON.parse(currentUser);
                        authButtons.style.display = 'none';
                        userPanel.style.display = 'flex';
                        userGreeting.textContent = `–ü—Ä–∏–≤–µ—Ç, ${user.username}!`;
                        balanceAmount.textContent = user.balance || 0;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –≤ –∏–≥—Ä–µ
                        updateGameBalance(user.balance || 0);
                    } else {
                        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                        authButtons.style.display = 'flex';
                        userPanel.style.display = 'none';
                        updateGameBalance(0);
                    }
                }
                
                function updateUserBalance(newBalance) {
                    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                    if (currentUser) {
                        currentUser.balance = newBalance;
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –≤ –º–∞—Å—Å–∏–≤–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                        const users = JSON.parse(localStorage.getItem('users') || '[]');
                        const userIndex = users.findIndex(u => u.username === currentUser.username);
                        if (userIndex !== -1) {
                            users[userIndex].balance = newBalance;
                            localStorage.setItem('users', JSON.stringify(users));
                        }
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
                        balanceAmount.textContent = newBalance;
                        updateGameBalance(newBalance);
                    }
                }
                
                function updateGameBalance(balance) {
                    const gameBalance = document.getElementById('balance');
                    if (gameBalance) {
                        gameBalance.textContent = balance;
                    }
                }
                
                function handleLogin(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('login-username').value;
                    const password = document.getElementById('login-password').value;
                    
                    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ localStorage
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    
                    // –ò—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –∏ –ø–∞—Ä–æ–ª–µ–º
                    const user = users.find(u => u.username === username && u.password === password);
                    
                    if (user) {
                        // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
                        localStorage.setItem('currentUser', JSON.stringify(user));
                        checkAuthStatus();
                        closeModal(loginModal);
                    } else {
                        // –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞
                        loginError.textContent = '–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å';
                        loginError.style.display = 'block';
                    }
                }
                
                function handleRegister(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('register-username').value;
                    const password = document.getElementById('register-password').value;
                    const confirmPassword = document.getElementById('confirm-password').value;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –ø–∞—Ä–æ–ª–∏
                    if (password !== confirmPassword) {
                        registerError.textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                        registerError.style.display = 'block';
                        return;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const existingUser = users.find(u => u.username === username);
                    
                    if (existingUser) {
                        registerError.textContent = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç';
                        registerError.style.display = 'block';
                        return;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º 1000
                    const newUser = { 
                        username, 
                        password, 
                        balance: 1000  // –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
                    };
                    users.push(newUser);
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                    registerSuccess.textContent = '–ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏.';
                    registerSuccess.style.display = 'block';
                    
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
                    setTimeout(() => {
                        registerForm.reset();
                        closeModal(registerModal);
                        openModal(loginModal);
                    }, 2000);
                }
                
                function handleDeposit(e) {
                    e.preventDefault();
                    
                    const amount = parseInt(document.getElementById('deposit-amount').value);
                    
                    if (isNaN(amount) || amount <= 0) {
                        depositSuccess.textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É';
                        depositSuccess.style.color = '#ff4d4d';
                        depositSuccess.style.display = 'block';
                        return;
                    }
                    
                    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                    if (currentUser) {
                        const newBalance = (currentUser.balance || 0) + amount;
                        updateUserBalance(newBalance);
                        
                        depositSuccess.textContent = `–ë–∞–ª–∞–Ω—Å —É—Å–ø–µ—à–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount} ‚ÇΩ`;
                        depositSuccess.style.color = '#39ff14';
                        depositSuccess.style.display = 'block';
                        
                        setTimeout(() => {
                            closeModal(depositModal);
                        }, 1500);
                    }
                }
                
                function handleWithdraw(e) {
                    e.preventDefault();
                    
                    const amount = parseInt(document.getElementById('withdraw-amount').value);
                    
                    if (isNaN(amount) || amount <= 0) {
                        withdrawError.textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É';
                        withdrawError.style.display = 'block';
                        return;
                    }
                    
                    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                    if (currentUser) {
                        const currentBalance = currentUser.balance || 0;
                        
                        if (amount > currentBalance) {
                            withdrawError.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ';
                            withdrawError.style.display = 'block';
                            return;
                        }
                        
                        const newBalance = currentBalance - amount;
                        updateUserBalance(newBalance);
                        
                        withdrawSuccess.textContent = `–°—Ä–µ–¥—Å—Ç–≤–∞ –≤ —Ä–∞–∑–º–µ—Ä–µ ${amount} ‚ÇΩ —É—Å–ø–µ—à–Ω–æ –≤—ã–≤–µ–¥–µ–Ω—ã`;
                        withdrawSuccess.style.display = 'block';
                        
                        setTimeout(() => {
                            closeModal(withdrawModal);
                        }, 1500);
                    }
                }
                
                function logout() {
                    localStorage.removeItem('currentUser');
                    checkAuthStatus();
                }
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
                window.addEventListener('click', (e) => {
                    if (e.target === loginModal) {
                        closeModal(loginModal);
                    }
                    if (e.target === registerModal) {
                        closeModal(registerModal);
                    }
                    if (e.target === depositModal) {
                        closeModal(depositModal);
                    }
                    if (e.target === withdrawModal) {
                        closeModal(withdrawModal);
                    }
                });
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            initAuthSystem();

            // –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
            const playerDice = document.getElementById('player-dice');
            const casinoDice = document.getElementById('casino-dice');
            const rollButton = document.getElementById('roll-button');
            const resultDiv = document.getElementById('result');
            const playerScoreDiv = document.getElementById('player-score');
            const casinoScoreDiv = document.getElementById('casino-score');
            const historyList = document.getElementById('history-list');
            const balanceDiv = document.getElementById('balance');
            const betAmountDiv = document.getElementById('bet-amount');
            const decreaseBetBtn = document.getElementById('decrease-bet');
            const increaseBetBtn = document.getElementById('increase-bet');
            const maxBetBtn = document.getElementById('max-bet');
            const coinsFall = document.getElementById('coins-fall');
            const winAnimation = document.getElementById('win-animation');
            const jackpot = document.getElementById('jackpot');
            const playerSection = document.getElementById('player-section');
            const casinoSection = document.getElementById('casino-section');
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingProgress = document.getElementById('loadingProgress');
            const loadingPercentage = document.getElementById('loadingPercentage');
            const loadingDetails = document.getElementById('loadingDetails');
            const otherBetsTable = document.getElementById('otherBetsTable');
            
            let playerScore = 0;
            let casinoScore = 0;
            let gameHistory = [];
            let betAmount = 50;
            let isRolling = false;
            
            // –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
            const playerNames = [
                "–ê–ª–µ–∫—Å–µ–π", "–ú–∞—Ä–∏—è", "–î–º–∏—Ç—Ä–∏–π", "–ê–Ω–Ω–∞", "–ò–≤–∞–Ω", "–û–ª—å–≥–∞", 
                "–°–µ—Ä–≥–µ–π", "–ï–ª–µ–Ω–∞", "–ú–∏—Ö–∞–∏–ª", "–ù–∞—Ç–∞–ª—å—è", "–ê–Ω–¥—Ä–µ–π", "–¢–∞—Ç—å—è–Ω–∞",
                "–í–ª–∞–¥–∏–º–∏—Ä", "–°–≤–µ—Ç–ª–∞–Ω–∞", "–ü–∞–≤–µ–ª", "–Æ–ª–∏—è", "–ù–∏–∫–æ–ª–∞–π", "–ò—Ä–∏–Ω–∞"
            ];
            
            // –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
            const loadingMessages = [
                "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞...",
                "–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç—É—Ä...",
                "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π...",
                "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤...",
                "–°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π —Å—Ä–µ–¥—ã...",
                "–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ..."
            ];
            
            // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            function startLoading() {
                let progress = 0;
                let messageIndex = 0;
                
                const interval = setInterval(() => {
                    progress += 1;
                    loadingProgress.style.width = `${progress}%`;
                    loadingPercentage.textContent = `${progress}%`;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 15%
                    if (progress % 15 === 0 && messageIndex < loadingMessages.length) {
                        loadingDetails.textContent = loadingMessages[messageIndex];
                        messageIndex++;
                    }
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        loadingDetails.textContent = "–ì–æ—Ç–æ–≤–æ! –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É...";
                        setTimeout(() => {
                            loadingScreen.style.opacity = '0';
                            setTimeout(() => {
                                loadingScreen.style.display = 'none';
                            }, 800);
                        }, 500);
                    }
                }, 30); // 3 —Å–µ–∫—É–Ω–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏
            }
            
            // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
            function generateRandomBets() {
                // –û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
                if (otherBetsTable.children.length > 8) {
                    otherBetsTable.removeChild(otherBetsTable.lastChild);
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç–∞–≤–∫—É
                const playerName = playerNames[Math.floor(Math.random() * playerNames.length)];
                const bet = Math.floor(Math.random() * 500) + 50;
                const isWin = Math.random() > 0.6; // 40% —à–∞–Ω—Å –Ω–∞ –≤—ã–∏–≥—Ä—ã—à
                const winAmount = isWin ? bet * 2 : 0;
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã
                const row = document.createElement('tr');
                
                const nameCell = document.createElement('td');
                nameCell.textContent = playerName;
                
                const betCell = document.createElement('td');
                betCell.textContent = `${bet} ‚ÇΩ`;
                
                const resultCell = document.createElement('td');
                if (isWin) {
                    resultCell.textContent = '–í—ã–∏–≥—Ä—ã—à';
                    resultCell.className = 'bet-win';
                } else {
                    resultCell.textContent = '–ü—Ä–æ–∏–≥—Ä—ã—à';
                    resultCell.className = 'bet-lose';
                }
                
                const amountCell = document.createElement('td');
                amountCell.textContent = isWin ? `+${winAmount} ‚ÇΩ` : `-${bet} ‚ÇΩ`;
                amountCell.className = isWin ? 'bet-win' : 'bet-lose';
                
                row.appendChild(nameCell);
                row.appendChild(betCell);
                row.appendChild(resultCell);
                row.appendChild(amountCell);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –≤ –Ω–∞—á–∞–ª–æ —Ç–∞–±–ª–∏—Ü—ã
                otherBetsTable.insertBefore(row, otherBetsTable.firstChild);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
                row.style.opacity = '0';
                setTimeout(() => {
                    row.style.transition = 'opacity 0.5s';
                    row.style.opacity = '1';
                }, 10);
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –∫–∞–∂–¥—ã–µ 2-5 —Å–µ–∫—É–Ω–¥
            function startRandomBets() {
                generateRandomBets(); // –ü–µ—Ä–≤–∞—è —Å—Ç–∞–≤–∫–∞ —Å—Ä–∞–∑—É
                setInterval(generateRandomBets, Math.random() * 3000 + 2000); // –°–ª—É—á–∞–π–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª 2-5 —Å–µ–∫—É–Ω–¥
            }
            
            // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞–Ω–∏ –¥–ª—è –∫–æ—Å—Ç–µ–π
            function createDiceFaces(diceElement) {
                const faces = ['front', 'back', 'right', 'left', 'top', 'bottom'];
                
                for (let i = 0; i < 6; i++) {
                    const face = document.createElement('div');
                    face.className = `face ${faces[i]}`;
                    
                    // –°–æ–∑–¥–∞–µ–º —Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä–∞–Ω–∏
                    for (let j = 0; j < 6; j++) {
                        const dot = document.createElement('div');
                        dot.className = 'dot';
                        face.appendChild(dot);
                    }
                    
                    diceElement.appendChild(face);
                }
            }
            
            createDiceFaces(playerDice);
            createDiceFaces(casinoDice);
            
            // –§—É–Ω–∫—Ü–∏—è –±—Ä–æ—Å–∫–∞ –∫–æ—Å—Ç–∏
            function rollDice() {
                return Math.floor(Math.random() * 6) + 1;
            }
            
            // –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∫–æ—Å—Ç–∏
            function setDiceValue(diceElement, value) {
                // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–ª–∞—Å—Å—ã –∑–Ω–∞—á–µ–Ω–∏–π
                for (let i = 1; i <= 6; i++) {
                    diceElement.classList.remove(`value-${i}`);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∑–Ω–∞—á–µ–Ω–∏—è
                diceElement.classList.add(`value-${value}`);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –±—Ä–æ—Å–∫–∞
            function animateDiceRoll(diceElement, callback) {
                diceElement.classList.add('rolling');
                
                setTimeout(() => {
                    diceElement.classList.remove('rolling');
                    if (callback) callback();
                }, 1500);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
            function getCurrentBalance() {
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    return JSON.parse(currentUser).balance || 0;
                }
                return 0;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
            function updateBalanceInSystem(newBalance) {
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    const user = JSON.parse(currentUser);
                    user.balance = newBalance;
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –≤ –º–∞—Å—Å–∏–≤–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const userIndex = users.findIndex(u => u.username === user.username);
                    if (userIndex !== -1) {
                        users[userIndex].balance = newBalance;
                        localStorage.setItem('users', JSON.stringify(users));
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
                    const balanceAmount = document.getElementById('balance-amount');
                    if (balanceAmount) {
                        balanceAmount.textContent = newBalance;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –≤ –∏–≥—Ä–µ
                    updateGameBalance(newBalance);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ –∏–≥—Ä–µ
            function updateGameBalance(balance) {
                if (balanceDiv) {
                    balanceDiv.textContent = balance;
                    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –±–∞–ª–∞–Ω—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—É–º–º—ã
                    if (balance >= 1500) {
                        balanceDiv.style.color = '#2ecc71';
                        balanceDiv.style.textShadow = '0 0 10px rgba(46, 204, 113, 0.7)';
                    } else if (balance <= 500) {
                        balanceDiv.style.color = '#e74c3c';
                        balanceDiv.style.textShadow = '0 0 10px rgba(231, 76, 60, 0.7)';
                    } else {
                        balanceDiv.style.color = 'gold';
                        balanceDiv.style.textShadow = '0 0 10px rgba(255, 215, 0, 0.7)';
                    }
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
            function updateHistory(playerValue, casinoValue, result, winAmount) {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                let resultText = '';
                let resultClass = '';
                
                if (result === 'win') {
                    resultText = `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ +${winAmount}!`;
                    resultClass = 'win';
                } else if (result === 'lose') {
                    resultText = `–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ -${betAmount}`;
                    resultClass = 'lose';
                } else {
                    resultText = '–ù–∏—á—å—è! –°—Ç–∞–≤–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞';
                    resultClass = 'draw';
                }
                
                historyItem.innerHTML = `
                    <span>–ò–≥—Ä–æ–∫: ${playerValue} | –ö–∞–∑–∏–Ω–æ: ${casinoValue}</span>
                    <span class="${resultClass}">${resultText}</span>
                `;
                
                historyList.insertBefore(historyItem, historyList.firstChild);
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 10 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∏–≥—Ä–∞–º–∏
                if (historyList.children.length > 10) {
                    historyList.removeChild(historyList.lastChild);
                }
                
                gameHistory.push({
                    player: playerValue,
                    casino: casinoValue,
                    result: result,
                    winAmount: winAmount
                });
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–¥–∞—é—â–∏—Ö –º–æ–Ω–µ—Ç
            function createCoins(count) {
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const coin = document.createElement('div');
                        coin.className = 'coin';
                        coin.style.left = Math.random() * 100 + 'vw';
                        coin.style.animationDuration = (Math.random() * 2 + 1) + 's';
                        coin.textContent = '$';
                        coinsFall.appendChild(coin);
                        
                        setTimeout(() => {
                            coinsFall.removeChild(coin);
                        }, 3000);
                    }, i * 100);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—ã–∏–≥—Ä—ã—à–∞
            function showWinAnimation() {
                winAnimation.style.display = 'block';
                setTimeout(() => {
                    winAnimation.style.display = 'none';
                }, 500);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–∂–µ–∫–ø–æ—Ç–∞
            function showJackpot() {
                jackpot.style.display = 'block';
                setTimeout(() => {
                    jackpot.style.display = 'none';
                }, 2000);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏
            function updateBet() {
                betAmountDiv.textContent = betAmount;
                const currentBalance = getCurrentBalance();
                
                // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫, –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –±–∞–ª–∞–Ω—Å–∞
                decreaseBetBtn.disabled = betAmount <= 10;
                increaseBetBtn.disabled = betAmount >= currentBalance || betAmount >= 500;
                maxBetBtn.disabled = currentBalance < 10;
                
                // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –±—Ä–æ—Å–∫–∞, –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ –±–æ–ª—å—à–µ –±–∞–ª–∞–Ω—Å–∞
                rollButton.disabled = betAmount > currentBalance || isRolling || !localStorage.getItem('currentUser');
            }
            
            // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π —Å–µ–∫—Ü–∏–π –∏–≥—Ä–æ–∫–∞ –∏ –∫–∞–∑–∏–Ω–æ
            function resetSections() {
                playerSection.classList.remove('win', 'lose', 'draw');
                casinoSection.classList.remove('win', 'lose', 'draw');
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏
            decreaseBetBtn.addEventListener('click', function() {
                if (betAmount > 10) {
                    betAmount -= 10;
                    updateBet();
                }
            });
            
            increaseBetBtn.addEventListener('click', function() {
                const currentBalance = getCurrentBalance();
                if (betAmount < currentBalance && betAmount < 500) {
                    betAmount += 10;
                    updateBet();
                }
            });
            
            maxBetBtn.addEventListener('click', function() {
                const currentBalance = getCurrentBalance();
                betAmount = Math.min(currentBalance, 500);
                updateBet();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É –±—Ä–æ—Å–∫–∞
            rollButton.addEventListener('click', function() {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
                if (!localStorage.getItem('currentUser')) {
                    document.getElementById('login-modal').style.display = 'flex';
                    return;
                }
                
                const currentBalance = getCurrentBalance();
                if (isRolling || betAmount > currentBalance) return;
                
                isRolling = true;
                rollButton.disabled = true;
                resultDiv.textContent = '–ë—Ä–æ—Å–∞–µ–º –∫–æ—Å—Ç–∏...';
                resultDiv.className = 'result';
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∏–ª–∏ —Å–µ–∫—Ü–∏–π
                resetSections();
                
                // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É —Å –±–∞–ª–∞–Ω—Å–∞
                const newBalance = currentBalance - betAmount;
                updateBalanceInSystem(newBalance);
                updateBet();
                
                // –ë—Ä–æ—Å–∞–µ–º –∫–æ—Å—Ç–∏
                const playerValue = rollDice();
                const casinoValue = rollDice();
                
                // –ê–Ω–∏–º–∏—Ä—É–µ–º –±—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞
                animateDiceRoll(playerDice, () => {
                    setDiceValue(playerDice, playerValue);
                });
                
                // –ê–Ω–∏–º–∏—Ä—É–µ–º –±—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π –∫–∞–∑–∏–Ω–æ —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
                setTimeout(() => {
                    animateDiceRoll(casinoDice, () => {
                        setDiceValue(casinoDice, casinoValue);
                        
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                        let resultText = '';
                        let resultClass = '';
                        let winAmount = 0;
                        
                        if (playerValue > casinoValue) {
                            resultText = `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${betAmount * 2}! üéâ`;
                            resultClass = 'win';
                            playerScore++;
                            winAmount = betAmount * 2;
                            const newBalanceAfterWin = newBalance + winAmount;
                            updateBalanceInSystem(newBalanceAfterWin);
                            
                            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–µ–∫—Ü–∏–π
                            playerSection.classList.add('win');
                            casinoSection.classList.add('lose');
                            
                            // –≠—Ñ—Ñ–µ–∫—Ç—ã –≤—ã–∏–≥—Ä—ã—à–∞
                            createCoins(20);
                            showWinAnimation();
                            
                            // –î–∂–µ–∫–ø–æ—Ç –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ –¥–≤—É—Ö —à–µ—Å—Ç–µ—Ä–æ–∫
                            if (playerValue === 6 && casinoValue === 1) {
                                const jackpotAmount = betAmount * 5;
                                const newBalanceAfterJackpot = newBalanceAfterWin + jackpotAmount;
                                updateBalanceInSystem(newBalanceAfterJackpot);
                                resultText = `–î–ñ–ï–ö–ü–û–¢! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${jackpotAmount}! üé∞`;
                                showJackpot();
                                winAmount = jackpotAmount;
                            }
                        } else if (playerValue < casinoValue) {
                            resultText = `–ö–∞–∑–∏–Ω–æ –≤—ã–∏–≥—Ä–∞–ª–æ! –í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ ${betAmount} üòû`;
                            resultClass = 'lose';
                            casinoScore++;
                            
                            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–µ–∫—Ü–∏–π
                            playerSection.classList.add('lose');
                            casinoSection.classList.add('win');
                        } else {
                            resultText = '–ù–∏—á—å—è! –°—Ç–∞–≤–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ ü§ù';
                            resultClass = 'draw';
                            updateBalanceInSystem(newBalance + betAmount);
                            
                            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–µ–∫—Ü–∏–π
                            playerSection.classList.add('draw');
                            casinoSection.classList.add('draw');
                        }
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                        resultDiv.textContent = resultText;
                        resultDiv.className = `result ${resultClass}`;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç
                        playerScoreDiv.textContent = playerScore;
                        casinoScoreDiv.textContent = casinoScore;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                        updateBet();
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é
                        updateHistory(
                            playerValue, 
                            casinoValue, 
                            playerValue > casinoValue ? 'win' : 
                            playerValue < casinoValue ? 'lose' : 'draw',
                            winAmount
                        );
                        
                        // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –æ–±—Ä–∞—Ç–Ω–æ
                        isRolling = false;
                        updateBet();
                    });
                }, 500);
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
            setDiceValue(playerDice, 1);
            setDiceValue(casinoDice, 1);
            updateBet();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            startLoading();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
            startRandomBets();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            const currentBalance = getCurrentBalance();
            updateGameBalance(currentBalance);
        });
    </script>
</body>
</html>